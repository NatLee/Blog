<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/Blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/Blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/Blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/Blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"natlee.github.com","root":"/Blog/","images":"/Blog/images","scheme":"Pisces","darkmode":true,"version":"8.20.0","exturl":true,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/Blog/js/config.js"></script>

    <meta name="description" content="å‰è¨€ ä¹‹å‰ä¸€ç›´å¾ˆæƒ³å¯«åå‘é€šé“(reverse tunnel)çš„æµç¨‹ï¼Œä½†éç¨‹å¾ˆé›£æè¿° å‰›å¥½æœ€è¿‘åœ¨ docker ä¸Šçœ‹åˆ°å¥½ç”¨çš„ openssh-server çš„ image çµæœä¸€è©¦å°±ä¸Šæ‰‹ï¼Œæ–¼æ˜¯å°±æœ‰é€™ç¯‡æ–‡ç« äº†">
<meta property="og:type" content="article">
<meta property="og:title" content="ä½¿ç”¨docker containerå»ºç«‹SSHåå‘é€šé“ç©¿é€å…§ç¶²é€£æ¥å…§éƒ¨è£ç½®">
<meta property="og:url" content="https://natlee.github.com/Blog/posts/509187850/index.html">
<meta property="og:site_name" content="Nat&#39;s Blog">
<meta property="og:description" content="å‰è¨€ ä¹‹å‰ä¸€ç›´å¾ˆæƒ³å¯«åå‘é€šé“(reverse tunnel)çš„æµç¨‹ï¼Œä½†éç¨‹å¾ˆé›£æè¿° å‰›å¥½æœ€è¿‘åœ¨ docker ä¸Šçœ‹åˆ°å¥½ç”¨çš„ openssh-server çš„ image çµæœä¸€è©¦å°±ä¸Šæ‰‹ï¼Œæ–¼æ˜¯å°±æœ‰é€™ç¯‡æ–‡ç« äº†">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/linuxserver_medium.png">
<meta property="article:published_time" content="2022-02-08T16:00:00.000Z">
<meta property="article:modified_time" content="2024-09-16T16:45:38.339Z">
<meta property="article:author" content="Nat Lee">
<meta property="article:tag" content="docker">
<meta property="article:tag" content="container">
<meta property="article:tag" content="ssh">
<meta property="article:tag" content="tunnel">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/linuxserver_medium.png">


<link rel="canonical" href="https://natlee.github.com/Blog/posts/509187850/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-tw","comments":true,"permalink":"https://natlee.github.com/Blog/posts/509187850/","path":"posts/509187850/","title":"ä½¿ç”¨docker containerå»ºç«‹SSHåå‘é€šé“ç©¿é€å…§ç¶²é€£æ¥å…§éƒ¨è£ç½®"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ä½¿ç”¨docker containerå»ºç«‹SSHåå‘é€šé“ç©¿é€å…§ç¶²é€£æ¥å…§éƒ¨è£ç½® | Nat's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/Blog/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/Blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Nat's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Inspire with nothing.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/Blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/Blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/Blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/Blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/Blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/Blog/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




    <!-- head AdSense -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({google_ad_client: 'ca-pub-6070159426076964', enable_page_level_ads: true});
    </script>


</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A5%E9%A9%9F%E8%AA%AA%E6%98%8E"><span class="nav-number">2.</span> <span class="nav-text">æ­¥é©Ÿèªªæ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E7%B6%B2%E8%A3%9D%E7%BD%AE-A"><span class="nav-number">2.1.</span> <span class="nav-text">å¤–ç¶²è£ç½® A</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Extra-Step"><span class="nav-number">2.1.1.</span> <span class="nav-text">Extra Step</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A7%E7%B6%B2%E8%B7%B3%E6%9D%BF%E8%A3%9D%E7%BD%AE-B"><span class="nav-number">2.2.</span> <span class="nav-text">å…§ç¶²è·³æ¿è£ç½® B</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%8F%E9%81%8E%E8%B7%B3%E6%9D%BF-B-%E9%80%A3%E8%87%B3%E5%85%A7%E7%B6%B2%E8%A3%9D%E7%BD%AE-C"><span class="nav-number">2.3.</span> <span class="nav-text">é€éè·³æ¿ B é€£è‡³å…§ç¶²è£ç½® C</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B5%90%E8%AA%9E"><span class="nav-number">3.</span> <span class="nav-text">çµèª</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Nat Lee"
      src="https://avatars.githubusercontent.com/u/10178964">
  <p class="site-author-name" itemprop="name">Nat Lee</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/Blog/archives/">
          <span class="site-state-item-count">45</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/Blog/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/Blog/tags/">
        <span class="site-state-item-count">79</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL05hdExlZQ==" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;NatLee"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BuYXRsZWVf" title="Medium â†’ https:&#x2F;&#x2F;medium.com&#x2F;@natlee_"><i class="fab fa-medium fa-fw"></i>Medium</span>
      </span>
  </div>


        </div>
      </div>
    </div>

    
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-tw">
    <link itemprop="mainEntityOfPage" href="https://natlee.github.com/Blog/posts/509187850/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/10178964">
      <meta itemprop="name" content="Nat Lee">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nat's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="ä½¿ç”¨docker containerå»ºç«‹SSHåå‘é€šé“ç©¿é€å…§ç¶²é€£æ¥å…§éƒ¨è£ç½® | Nat's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ä½¿ç”¨docker containerå»ºç«‹SSHåå‘é€šé“ç©¿é€å…§ç¶²é€£æ¥å…§éƒ¨è£ç½®
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-02-09 00:00:00" itemprop="dateCreated datePublished" datetime="2022-02-09T00:00:00+08:00">2022-02-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-17 00:45:38" itemprop="dateModified" datetime="2024-09-17T00:45:38+08:00">2024-09-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/Blog/categories/blog/" itemprop="url" rel="index"><span itemprop="name">blog</span></a>
        </span>
    </span>

  

    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>9k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>16 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><img data-src="https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/linuxserver_medium.png"></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><hr>
<p>ä¹‹å‰ä¸€ç›´å¾ˆæƒ³å¯«åå‘é€šé“(reverse tunnel)çš„æµç¨‹ï¼Œä½†éç¨‹å¾ˆé›£æè¿°</p>
<p>å‰›å¥½æœ€è¿‘åœ¨ docker ä¸Šçœ‹åˆ°å¥½ç”¨çš„ openssh-server çš„ image</p>
<p>çµæœä¸€è©¦å°±ä¸Šæ‰‹ï¼Œæ–¼æ˜¯å°±æœ‰é€™ç¯‡æ–‡ç« äº†</p>
<span id="more"></span>

<h2 id="æ­¥é©Ÿèªªæ˜"><a href="#æ­¥é©Ÿèªªæ˜" class="headerlink" title="æ­¥é©Ÿèªªæ˜"></a>æ­¥é©Ÿèªªæ˜</h2><hr>
<blockquote>
<p>é¦–å…ˆï¼Œä½ éœ€è¦ä¸€å€‹<code>ä½æ–¼å¤–ç¶²ä¸”å¯ä»¥é€éSSHé€£ç·šçš„è£ç½®</code></p>
<p>å¦‚æœæ²’æœ‰ï¼Œè«‹æŒ‰ä¸Šä¸€é </p>
</blockquote>
<p>æˆ‘ä»Šå¤©çœ‹åˆ°ä¸€å€‹ image <span class="exturl" data-url="aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2xpbnV4c2VydmVyL29wZW5zc2gtc2VydmVy">linuxserver&#x2F;openssh-server<i class="fa fa-external-link-alt"></i></span></p>
<p>å®ƒæŠŠ openssh-server çš„éƒ¨åˆ†éƒ½åšå¥½äº†</p>
<p>æ‰€ä»¥æˆ‘å€‘å¯ä»¥ç›´æ¥ç”¨é€™å€‹ image å» run ä¸€å€‹ container</p>
<p>ä¹Ÿå°±æ˜¯å¯«ä¸€ä»½ docker-compose çš„æ–‡ä»¶å°±æå®šäº†</p>
<p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘æœƒåˆ†åˆ¥è¨è«–ä¸‰å€‹è£ç½®ä¸Šçš„è¨­å®š</p>
<ul>
<li>å¤–ç¶²è£ç½® A</li>
<li>å…§ç¶²è·³æ¿è£ç½® B</li>
<li>é€éè·³æ¿ B é€£è‡³å…§ç¶²è£ç½® C</li>
</ul>
<p>æ­¥é©Ÿç°¡ç•¥ä¾†èªªæœƒé•·æˆä¸‹é¢é€™å€‹æ¨£å­ï¼š</p>
<ul>
<li>å…§ç¶²çš„è·³æ¿è£ç½® B æœƒé€éåå‘å»é€£æ¥åœ¨å¤–ç¶²çš„ Aï¼ˆæ‰€ä»¥ B åœ¨å…§ç¶²åªè¦å¯ä»¥è¨ªå•å¤–ç¶²å°±è¡Œäº†ï¼‰ï¼Œæ¥è‘— A æœƒä½¿ç”¨å¦å¤–ä¸€å€‹ port å» forward è£ç½® B çš„ SSH port</li>
</ul>
<blockquote>
<p>A(SSH port) &lt;â€” B</p>
</blockquote>
<p>é€™é‚Šæœ‰é»ä¸å¤ªå¥½æ‡‚ï¼Œèˆ‰ä¾‹ä¾†èªªå°±æ˜¯å‡è¨­ A çš„ SSH port æ˜¯ 1984ï¼Œé™¤äº† 1984 å¤–ï¼Œæˆ‘å€‘åœ¨è·¯ç”±å™¨ä¸Šè¨­å®šé–‹æ”¾ A è£ç½®çš„å¦ä¸€å€‹ port 1994</p>
<p>é‚£éº¼ï¼ŒB åå‘åˆ° A çš„æ™‚å€™ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨ 1994 é€™å€‹ port å»è®“åˆ¥äººé€£æ¥ B çš„ SSH port</p>
<ul>
<li>æˆ‘å€‘é€éæŸä¸€å¯é€£å¤–ç¶²çš„è£ç½®ï¼ˆéš¨ä¾¿ä¸€å€‹éƒ½è¡Œï¼‰å»é€£æ¥ A çš„åå‘å°ˆç”¨ port å³å¯åˆ°é”åœ¨å…§ç¶²çš„è£ç½® B</li>
</ul>
<blockquote>
<p>æŸè£ç½® â€”&gt; A(åå‘ç”¨ port) â€”&gt; B</p>
</blockquote>
<ul>
<li>å› çˆ²è£ç½® B åœ¨å…§ç¶²ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ä½¿ç”¨ B ä¾†è¨ªå•æ‰€æœ‰åœ¨å…§ç¶²çš„è£ç½®ï¼Œä¾‹å¦‚ C</li>
</ul>
<blockquote>
<p>æŸè£ç½® â€”&gt; A(åå‘ç”¨ port) â€”&gt; B â€”&gt; C</p>
</blockquote>
<h3 id="å¤–ç¶²è£ç½®-A"><a href="#å¤–ç¶²è£ç½®-A" class="headerlink" title="å¤–ç¶²è£ç½® A"></a>å¤–ç¶²è£ç½® A</h3><p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆåœ¨å¤–ç¶²çš„æ©Ÿå™¨ A å…ˆä½ˆç½®èƒ½èƒ½å¤ é€²è¡Œè¢«åå‘é€£æ¥çš„ server</p>
<p>æˆ‘å€‘åŸºæ–¼ docker hub ä¸Šé¢å®˜æ–¹çš„æ–‡ä»¶åšä¿®æ”¹</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">openssh-server:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">lscr.io/linuxserver/openssh-server</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">reverse-tunnel-outside-server</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">nat-tunnel-outside-server</span> <span class="comment">#optional</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Taipei</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY=yourpublickey #optional</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY_FILE=/path/to/file #optional</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY_DIR=/config/.ssh #optional</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY_URL=https://github.com/username.keys #optional</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SUDO_ACCESS=true</span> <span class="comment">#optional</span></span><br><span class="line">      <span class="comment">#- PASSWORD_ACCESS=false #optional</span></span><br><span class="line">      <span class="comment">#- USER_PASSWORD=password #optional</span></span><br><span class="line">      <span class="comment">#- USER_PASSWORD_FILE=/path/to/file #optional</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">USER_NAME=natlee</span> <span class="comment">#optional</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./ssh_setting:/config</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./root_ssh_setting:/root/.ssh</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">1984</span><span class="string">:2222</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">1994</span><span class="string">:1994</span></span><br></pre></td></tr></table></figure>

<p>ä¸»è¦æ¯”è¼ƒæœ‰æ„ç¾©çš„æ”¹å‹•æ˜¯<code>volumes</code>è·Ÿ<code>port</code></p>
<blockquote>
<p>æœ‰äº›ç‰ˆæœ¬çš„ docker æœƒå‡ºç¾ç„¡æ³• binding volumes çš„å•é¡Œï¼Œå¯ä»¥å…ˆè‡ªå·±ç”¨<code>mkdir</code>å»ºç«‹è³‡æ–™å¤¾</p>
</blockquote>
<p>å› çˆ²å®ƒçš„ image åŒ…å¥½çš„ SSH port æ˜¯<code>2222</code>ï¼Œé‚£éº¼æˆ‘å€‘æŠŠå¤–éƒ¨<code>1984</code>å°æ‡‰é€²å»</p>
<p>å¦å¤–ï¼Œæˆ‘å€‘éœ€è¦å¤šé–‹ä¸€å€‹ port è®“å…§ç¶²è£é¢åšåå‘çš„è£ç½®èƒ½å¤ é€£åˆ°é€™è‡º server</p>
<p>æ‰€ä»¥å¤šé–‹äº†ä¸€å€‹ port <code>1994</code></p>
<blockquote>
<p>é€™é‚Šè¨˜å¾—åœ¨è·¯ç”±å™¨å¹«é€™å…©å€‹ port åš forwardingï¼Œå»ºè­°å…§å¤–ç›¸åŒ port å°±è¡Œäº†</p>
</blockquote>
<p>æ¥ç€ï¼Œæˆ‘å€‘å°±åŸ·è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>

<p>è¨˜å¾—ï¼Œé€™é‚Šæ²’æœ‰ä½¿ç”¨<code>-d</code>å»åšèƒŒæ™¯åŸ·è¡Œæ˜¯å› çˆ²ç­‰ç­‰ debug æ¯”è¼ƒæ–¹ä¾¿</p>
<p>æˆ‘å€‘éœ€è¦ä¿®æ”¹ openssh-server çš„è¨­å®šæª”<code>sshd_config</code></p>
<p>æ‰“é–‹å‰›å‰›æŒ‡å®šç›®éŒ„ä¸­çš„<code>./ssh_setting/ssh_host_keys/sshd_config</code>å»æŠŠé€™ä¸‰å€‹è¨­å®šåšæ›´æ”¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AllowTCPForwarding yes # æœ‰äº›æ•™å­¸æ²’èªªè¦é–‹é€™å€‹ï¼Œä½†ä¸é–‹å®ƒå°±ä¸è®“ä½ forwardingäº†</span><br><span class="line">GatewayPorts yes # é€™å€‹æ˜¯è®“ä½ èƒ½å¤ è½‰portç”¨çš„ï¼Œä¸€å®šè¦é–‹</span><br><span class="line"></span><br><span class="line">ChallengeResponseAuthentication no # å®‰å…¨éœ€æ±‚ï¼Œåªé–‹æ”¾public keyç™»å…¥</span><br></pre></td></tr></table></figure>

<p>é‡æ–°åŸ·è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up --force-recreate</span><br></pre></td></tr></table></figure>

<p>å®Œæˆé€™å€‹æ­¥é©Ÿå¾Œ</p>
<p>æˆ‘å€‘å°±å¯ä»¥æ”¾è‘—ä¸ç®¡ï¼Œç”¨èƒŒæ™¯åŸ·è¡Œé€™å€‹ container äº†</p>
<h4 id="Extra-Step"><a href="#Extra-Step" class="headerlink" title="Extra Step"></a>Extra Step</h4><p>é€™é‚Šæ˜¯é¡å¤–çš„é€£ç·šæ¸¬è©¦ï¼Œä¸åšä¹Ÿä¸å½±éŸ¿å¾Œé¢çš„æµç¨‹</p>
<p>å¯ä»¥ä½¿ç”¨ local åšé€£ç·šæ¸¬è©¦</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â¯ ssh natlee@localhost -p 1984</span><br><span class="line">The authenticity of host <span class="string">&#x27;[localhost]:2000 ([::1]:1984)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:g73WW30kTFqdUvi/mCbIgrW4dnadPiW7ipopK9h6/zk.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>[localhost]:1984<span class="string">&#x27; (ECDSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">natlee@localhost: Permission denied (publickey,keyboard-interactive).</span></span><br></pre></td></tr></table></figure>

<p>æ–¼æ˜¯ï¼Œå¤±æ•—äº†ï¼Œå› çˆ²æˆ‘å€‘åªèƒ½ç”¨ key é€²è¡Œé€£ç·šï¼</p>
<p>é‚£éº¼è¦å¦‚ä½•æ¸¬è©¦é€£ç·šå‘¢ï¼Ÿ</p>
<p>æˆ‘å€‘å…ˆæ‰¾ä¸€å°é‡‘é‘°ï¼ˆå¦‚æœæ²’æœ‰çš„è©±ï¼Œå¯ä»¥ç”¨<code>ssh-keygen</code>ç”Ÿæˆï¼‰</p>
<p>å†æŠŠå‰›æ‰¾çš„å…¬é‘°ï¼ˆé€šå¸¸é è¨­æœƒåœ¨<code>~/.ssh/id_rsa.pub</code>ï¼‰æ”¾åˆ°<code>./ssh_setting/.ssh/authorized_keys</code>å…§</p>
<p>å…§å®¹é¡ä¼¼é•·é€™æ¨£çš„æ±è¥¿ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDs13dOFtSQ8OJjIIZiVKWTIUbEvy+ZIcswOiXCb4q4nIK80yNyuDOVcbzQyyS0Q0z0UUTpf+TR5Rs4Ox0B8baffTC0CvFHQhwqpgvz/8d179fmUCyDb9yrdgdhSlN4zkMdw8A2P8SQ+3cc+gIQBvj/jo414kynz4zaoGseFxBOpVKc+dW1Y8m3G4wfBB0QpcyxYZ9vkAhrIYyPrIK9EP7LXTlJyQ7gMadJ4eUkMiBSnqfJYxPcYDIeK/uHYyGgpsJQUaxZ8JIqkD2kdmBPX8NHGA1O2VF2UyiJKuRVJEg/oW7YoCJHs81Gj+bl9HdnBC5CEMWckLPLRtfFkW3u9F6PNto9fs48L1dU8MGm6KAirX2GPydmwRS6yh9i32NT5J70izi28cX1IhJn2PtY75aZAPuU2NspsJ1cy4cbd35tJLB0H0= root@test</span><br></pre></td></tr></table></figure>

<p>å†ç”¨ SSH é€£ç·šä¸€æ¬¡ï¼</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â¯ ssh natlee@localhost -p 1984</span><br><span class="line">Welcome to OpenSSH Server</span><br><span class="line"></span><br><span class="line">nat-tunnel-outside-server:~$</span><br></pre></td></tr></table></figure>

<p>åˆ°é€™é‚Šç®—æ˜¯å¤–ç¶²æ©Ÿå™¨ä½ˆç½®æˆåŠŸäº†ï¼</p>
<p>åŸ·è¡Œä¸­çš„æ™‚å€™ï¼Œè³‡æ–™å¤¾å…§çš„å…§å®¹ç‰©é•·é€™æ¨£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ docker-compose.yml</span><br><span class="line">â”œâ”€â”€ root_ssh_setting</span><br><span class="line">â””â”€â”€ ssh_setting</span><br><span class="line">    â”œâ”€â”€ custom-cont-init.d</span><br><span class="line">    â”œâ”€â”€ custom-services.d</span><br><span class="line">    â”œâ”€â”€ logs</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ loginfo.txt</span><br><span class="line">    â”‚Â Â  â””â”€â”€ openssh</span><br><span class="line">    â”‚Â Â      â”œâ”€â”€ current</span><br><span class="line">    â”‚Â Â      â”œâ”€â”€ lock</span><br><span class="line">    â”‚Â Â      â””â”€â”€ state</span><br><span class="line">    â”œâ”€â”€ sshd.pid</span><br><span class="line">    â””â”€â”€ ssh_host_keys</span><br><span class="line">        â”œâ”€â”€ sshd_config</span><br><span class="line">        â”œâ”€â”€ ssh_host_dsa_key</span><br><span class="line">        â”œâ”€â”€ ssh_host_dsa_key.pub</span><br><span class="line">        â”œâ”€â”€ ssh_host_ecdsa_key</span><br><span class="line">        â”œâ”€â”€ ssh_host_ecdsa_key.pub</span><br><span class="line">        â”œâ”€â”€ ssh_host_ed25519_key</span><br><span class="line">        â”œâ”€â”€ ssh_host_ed25519_key.pub</span><br><span class="line">        â”œâ”€â”€ ssh_host_rsa_key</span><br><span class="line">        â””â”€â”€ ssh_host_rsa_key.pub</span><br><span class="line"></span><br><span class="line">7 directories, 15 files</span><br></pre></td></tr></table></figure>

<h3 id="å…§ç¶²è·³æ¿è£ç½®-B"><a href="#å…§ç¶²è·³æ¿è£ç½®-B" class="headerlink" title="å…§ç¶²è·³æ¿è£ç½® B"></a>å…§ç¶²è·³æ¿è£ç½® B</h3><p>å…§ç¶²è£ç½®éœ€è¦çš„æ±è¥¿å°±æ¯”è¼ƒå¤šäº†</p>
<p>ä½†é‚„æ˜¯è€æ¨£å­ï¼Œæˆ‘å€‘åœ¨å…§ç¶²è£ç½®ä¸Šèµ·ä¸€å€‹ openssh-server</p>
<p>åŸºæ–¼ docker hub ä¸Šé¢å®˜æ–¹çš„æ–‡ä»¶åšä¿®æ”¹</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">openssh-server:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">lscr.io/linuxserver/openssh-server</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">reverse-tunnel-inside-bridge</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">nat-tunnel-inside-bridge</span> <span class="comment">#optional</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Taipei</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY=yourpublickey #optional</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY_FILE=/path/to/file #optional</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY_DIR=/config/.ssh #optional</span></span><br><span class="line">      <span class="comment">#- PUBLIC_KEY_URL=https://github.com/username.keys #optional</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SUDO_ACCESS=true</span> <span class="comment">#optional</span></span><br><span class="line">      <span class="comment">#- PASSWORD_ACCESS=false #optional</span></span><br><span class="line">      <span class="comment">#- USER_PASSWORD=password #optional</span></span><br><span class="line">      <span class="comment">#- USER_PASSWORD_FILE=/path/to/file #optional</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">USER_NAME=natlee</span> <span class="comment">#optional</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./ssh_setting:/config</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./root_ssh_setting:/root/.ssh</span></span><br></pre></td></tr></table></figure>

<p>æ”¹å®Œä¹‹å¾Œç›´æ¥ run ä¸€æ³¢</p>
<blockquote>
<p>æœ‰äº›ç‰ˆæœ¬çš„ docker æœƒå‡ºç¾ç„¡æ³• binding volumes çš„å•é¡Œï¼Œå¯ä»¥å…ˆè‡ªå·±ç”¨<code>mkdir</code>å»ºç«‹è³‡æ–™å¤¾</p>
</blockquote>
<p>å…§ç¶²çš„è£ç½®å°±ä¸ç”¨çµ¦ portsï¼Œçµ¦äº†ä¹Ÿåªæœ‰å…§ç¶²é›»è…¦èƒ½é€£é€²å»</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>

<p>run å®Œæœƒçœ‹åˆ°å®ƒçš„å•“å‹•ç•«é¢ï¼Œç„¶å¾Œå°±è·Ÿå‰›å‰›ä¸€æ¨£ç”Ÿä¸€å †æ–‡ä»¶å‡ºä¾†</p>
<p>æˆ‘å€‘æ¥ä¸‹ä¾†è¦é…ç½®ä¸€äº›æ–‡ä»¶è®“å®ƒèƒ½å¤ é€£åˆ° server ä¸”æ–·ç·šå¾Œèƒ½å¤ é‡é€£</p>
<ul>
<li><p>å»ºç«‹å®‰è£ autossh çš„è…³æœ¬</p>
<p>ä½¿ç”¨<code>sudo nano ./ssh_setting/custom-cont-init.d/install.sh</code>å°‡ä»¥ä¸‹å…§å®¹è²¼ä¸Š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apk add --no-cache autossh</span><br></pre></td></tr></table></figure>
</li>
<li><p>å»ºç«‹å•“å‹• autossh çš„è…³æœ¬</p>
<p>ä½¿ç”¨<code>sudo nano ./ssh_setting/custom-services.d/autossh.sh</code>å°‡ä»¥ä¸‹å…§å®¹è²¼ä¸Š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Start AutoSSH&quot;</span></span><br><span class="line"></span><br><span class="line">/usr/bin/autossh \</span><br><span class="line">    -M 6767 \</span><br><span class="line">    -o <span class="string">&quot;StrictHostKeyChecking=no&quot;</span> \</span><br><span class="line">    -o <span class="string">&quot;ServerAliveInterval 15&quot;</span> \</span><br><span class="line">    -o <span class="string">&quot;ServerAliveCountMax 3&quot;</span> \</span><br><span class="line">    -p 1984 \</span><br><span class="line">    -NR <span class="string">&#x27;*:1994:localhost:2222&#x27;</span> \</span><br><span class="line">    natlee@&lt;YOUR_DOMAIN&gt; \</span><br><span class="line">    -i ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é€™é‚Šè«‹æŠŠ<code>&lt;EXAMPLE_DOMAIN&gt;</code>æ”¹æˆä½ è‡ªå·±é€£æ¥å¤–ç¶²è£ç½®çš„ domain æˆ– IP<br>å…¶ä¸­ï¼Œ<code>StrictHostKeyChecking</code>ç”¨ä¾†è‡ªå‹•æ–°å¢<code>known_host</code>ï¼Œé¿å…è¦æ‰‹å‹•é€£æ¥ä¸€æ¬¡ A</p>
</blockquote>
</li>
</ul>
<p>æ¥ç€ï¼Œæˆ‘å€‘ç›´æ¥å† run ä¸€æ¬¡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>

<p>ç„¶å¾Œå°±å™´éŒ¯äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reverse-tunnel-inside-bridge | Warning: Identity file /root/.ssh/id_rsa not accessible: No such file or directory.</span><br><span class="line">reverse-tunnel-inside-bridge | Host key verification failed.</span><br></pre></td></tr></table></figure>

<p>çˆ²ä»€éº¼å®ƒæœƒèªªç„¡æ³•å­˜å–<code>/root/.ssh/id_rsa</code>ï¼Ÿ</p>
<p>å› çˆ²å®ƒå¿…é ˆè¦é  key ä¾†é€£åˆ° serverï¼Œä½†å®ƒä¸¦æ²’æœ‰ key pairs</p>
<p>æ‰€ä»¥æˆ‘å€‘å¾—å¹«ä»–ç”¢ç”Ÿä¸€çµ„</p>
<p>æˆ‘å€‘å…ˆåˆ¥æš«åœ containerï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨é€™å€‹æŒ‡ä»¤å»ç”Ÿæˆ key pairs</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it reverse-tunnel-inside-bridge ssh-keygen</span><br></pre></td></tr></table></figure>

<p>ç„¶å¾Œè¼¸å‡ºæœƒé•·æˆä¸‹é¢é€™æ¨£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/root/.ssh/id_rsa):</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:YYaMzm7rD4dAQlREdwzOMufrbe5KLwc1z554ePFIvsc root@nat-tunnel-inside-bridge</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 3072]----+</span></span><br><span class="line"><span class="string">|.o++ oo.         |</span></span><br><span class="line"><span class="string">|.   +o.o         |</span></span><br><span class="line"><span class="string">|. .o.+o +        |</span></span><br><span class="line"><span class="string">| o o=  = .       |</span></span><br><span class="line"><span class="string">|  . o.. S        |</span></span><br><span class="line"><span class="string">|   o o.  =       |</span></span><br><span class="line"><span class="string">|    =oo * *      |</span></span><br><span class="line"><span class="string">|   .o=o= B E     |</span></span><br><span class="line"><span class="string">|   .o+O=o.o      |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure>

<p>ä½†é€™æ¨£æ˜¯ä¸å¤ çš„ï¼Œå› çˆ²æˆ‘å€‘å¤–ç¶²çš„è£ç½®åªèƒ½ä½¿ç”¨ key ç™»å…¥</p>
<p>é€™æ™‚å€™ï¼Œæˆ‘å€‘å°±å¿…é ˆæŠŠå…¬é‘°æª”æ¡ˆ<code>~/.ssh/id_rsa.pub</code>çš„å…§å®¹è¤‡è£½å‡ºä¾†ï¼ˆç›´æ¥é€²å»ç”¨<code>cat</code>æŒ‡ä»¤å°±è¡Œäº†ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it reverse-tunnel-inside-bridge /bin/bash</span><br><span class="line">root@nat-tunnel-inside-bridge:/<span class="comment"># cat ~/.ssh/id_rsa.pub</span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDdF4MGnC4XmCPR8QLy0gVJTQb9kf4jM5og0Q1ggO3y8wr8LMTdAufnatfj0mYq/QkCiVCQvfFT+e+f+1AKu0UCCokFehv6etUnyaHqQWDtrcXjT6yxw9N7njCrIv/mFHnttQ1z5Ri2ULOnoWva6hOabvUkabxDwwxz90HWKo94/xbtZsnU1kEmqyMJhJ2exSa+kSxUwKeyLX0HYCmiD5H1X+eqZMVbo3boDID3Pp2NFVFrGDP6NOwmBAVpd2rUHmL2AdKfcefvxmZKSyokp56J8pVg/MgzMEk7sEzZr2uP6klYNWpAsFaBJojrlQuUuGC1nibZmejRIEmuhcD+Wcssls8umB51L+0Hi+nZKU6lQXOZryW1xNXmS3h9DpeZTSNk4lmyJDuQ+r2JVLTNbyt1UvuGUotBuluDnNWwst8KWG8CAPjv+A/qMZ/dU3Rg9PEDQ8hXMccipq9lgq6bxrLXJ2gOKldTYXFhqhnyQs1b4AOXk7pwXaYo8vsWWkiJglU= root@nat-tunnel-inside-bridge</span><br></pre></td></tr></table></figure>

<p>é€™ä¸²é•·é•·çš„å…¬é‘°å°±å¯ä»¥è²¼åˆ°æˆ‘å€‘å¤–ç¶² server A çš„<code>./ssh_setting/.ssh/authorized_keys</code>ä¸­</p>
<p>é€™æ™‚å€™çœ‹å›å» container è¼¸å‡ºå°±æ²’æœ‰å†è·³éŒ¯èª¤äº†ï¼</p>
<p>å†ä¾†æ˜¯å®‰å…¨å•é¡Œï¼Œæˆ‘å€‘å¯ä»¥å†æ‰“é–‹ç›®éŒ„ä¸­çš„<code>./ssh_setting/ssh_host_keys/sshd_config</code>å»æŠŠé€™å€‹è¨­å®šåšæ›´æ”¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ChallengeResponseAuthentication no # å®‰å…¨éœ€æ±‚ï¼Œåªé–‹æ”¾public keyç™»å…¥</span><br></pre></td></tr></table></figure>

<p>åˆ°é€™é‚Šå…§ç¶²è£ç½® B å·²ç¶“ç®—æ˜¯è¨­å®šå®Œæˆäº†</p>
<p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘æŠŠè‡ªå·±ç¬¬ä¸‰æ–¹ä½ç½®çš„ PC å…¬é‘°è¤‡è£½åˆ°å…§ç¶²è£ç½® B çš„<code>ssh_setting/.ssh/authorized_keys</code>å¾Œ</p>
<p>æˆ‘å€‘å¾ PC ç«¯ä½¿ç”¨ SSH é€£æ¥ä¸€é–‹å§‹æœ‰æåˆ°å¤–ç¶²è£ç½®å¤šé–‹çš„å¦å¤–ä¸€å€‹ port <code>1994</code>å»åšæ¸¬è©¦</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â¯ ssh natlee@&lt;EXAMPLE_DOMAIN&gt; -p 1994</span><br><span class="line">Welcome to OpenSSH Server</span><br><span class="line"></span><br><span class="line">nat-tunnel-inside-bridge:~$</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸé€£åˆ°è£ç½® Bï¼Œä¹Ÿå°±æ˜¯å®Œç¾ç©¿é€é˜²ç«ç‰†ï¼Œç›´æ¥æˆåŠŸæ‰“æ´é€²åˆ°å…§ç¶²äº†ï¼</p>
<h3 id="é€éè·³æ¿-B-é€£è‡³å…§ç¶²è£ç½®-C"><a href="#é€éè·³æ¿-B-é€£è‡³å…§ç¶²è£ç½®-C" class="headerlink" title="é€éè·³æ¿ B é€£è‡³å…§ç¶²è£ç½® C"></a>é€éè·³æ¿ B é€£è‡³å…§ç¶²è£ç½® C</h3><p>é€™é‚Šçš„è£ç½® Cï¼Œæˆ‘ä½¿ç”¨æ¨¹è“æ´¾ç•¶ç¯„ä¾‹</p>
<p>æˆ‘å€‘å¯ä»¥åˆ©ç”¨<code>~/.ssh/config</code>å»è¨­å®š SSH çš„å¿«é€Ÿé€£ç·šæ–¹å¼ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Host reverse-tunnel-outside-server</span><br><span class="line">    HostName &lt;EXAMPLE_DOMAIN&gt;</span><br><span class="line">    User natlee</span><br><span class="line">    port 1984</span><br><span class="line">    Compression yes</span><br><span class="line"></span><br><span class="line">Host reverse-tunnel-inside-bridge</span><br><span class="line">    HostName &lt;EXAMPLE_DOMAIN&gt;</span><br><span class="line">    User natlee</span><br><span class="line">    port 1994</span><br><span class="line">    Compression yes</span><br><span class="line"></span><br><span class="line">Host pi-reversed</span><br><span class="line">    HostName 192.168.1.87</span><br><span class="line">    User pi</span><br><span class="line">    port 22</span><br><span class="line">    Compression yes</span><br><span class="line">    ProxyCommand ssh -W %h:%p reverse-tunnel-inside-bridge</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€å€‹ hostï¼Œæˆ‘å€‘å¯ä»¥é€£åˆ°å¤–ç¶² server Aï¼Œä¹Ÿå°±æ˜¯ port çˆ²<code>1984</code>çš„é‚£ä½</p>
<p>ç¬¬äºŒå€‹ hostï¼Œæˆ‘å€‘å¯ä»¥é€£åˆ°å…§ç¶²è£ç½® Bï¼Œä¹Ÿå°±æ˜¯ç¶“éåå‘å¾Œï¼Œport çˆ²<code>1994</code>çš„é‚£ä½</p>
<p>æœ€é‡è¦çš„æ˜¯ç¬¬ä¸‰å€‹ hostï¼Œè£é¢é€™å¥<code>ProxyCommand ssh -W %h:%p reverse-tunnel-inside-bridge</code>æ˜¯ç²¾é«“</p>
<p>æ„æ€æ˜¯é€éç¬¬äºŒå€‹ host <code>reverse-tunnel-inside-bridge</code> é€²è¡Œ proxy é€£åˆ°å€ç¶²çš„ä½ç½® <code>192.168.1.87</code></p>
<p>æœ‰äº†é€™å€‹å¿«é€Ÿé€£ç·šæ³•ï¼Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥ä¾†é«”é©—ä¸€ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">â¯ ssh pi-reversed</span><br><span class="line">Linux raspberrypi 5.10.17-v7l+ <span class="comment">#1421 SMP Thu May 27 14:00:13 BST 2021 armv7l</span></span><br><span class="line"></span><br><span class="line">The programs included with the Debian GNU/Linux system are free software;</span><br><span class="line">the exact distribution terms <span class="keyword">for</span> each program are described <span class="keyword">in</span> the</span><br><span class="line">individual files <span class="keyword">in</span> /usr/share/doc/*/copyright.</span><br><span class="line"></span><br><span class="line">Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent</span><br><span class="line">permitted by applicable law.</span><br><span class="line">Last login: Thu Feb 10 01:17:55 2022 from 192.168.1.133</span><br><span class="line"></span><br><span class="line">pi@raspberrypi:~ $</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€™æ¨£é…ç½®ä¹‹å¾Œï¼Œæˆ‘å€‘å¾ˆç°¡å–®å°±å¯ä»¥ç›´æ¥å¾å¤–ç¶²ç©¿é€åˆ°å…¶ä»–å…§éƒ¨æ©Ÿå™¨ä¸Šäº†ï¼</p>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><hr>
<p>é€™ç¯‡å¯¦é©—åšæ»¿ä¹…çš„ï¼Œä¸éå¾é ­è·‘ä¸€æ¬¡æ•´å€‹æµç¨‹ä¹‹å¾Œï¼Œæˆ‘ä¹Ÿå°æ‰“æ´æœ‰æ›´æ·±ä¸€æ­¥çš„èªè­˜</p>
<p>æ‰“æ´çš„å¥½è™•å¾ˆå¤šï¼Œåƒæ˜¯ vscode å¯ä»¥ä½¿ç”¨ remote-ssh çš„å¥—ä»¶</p>
<p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥é¸æ“‡<code>./ssh/config</code>å…§çš„æ©Ÿå™¨é€²è¡Œé€£ç·š</p>
<p>è€Œä¸” SFTP ä¹Ÿæ˜¯èµ° SSH é€šé“ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨å¤–ç¶²åšå…§ç¶²æª”æ¡ˆçš„å‚³è¼¸</p>
<p>ç”šè‡³æˆ‘å€‘ä¹Ÿå¯ä»¥ç›´æ¥ç”¨å…§ç¶²åš proxy ä¾†ç€è¦½å…§éƒ¨æ‰èƒ½çœ‹çš„ç¶²ç«™</p>
<p>ä½†æ˜¯ï¼Œé€™æ¨£åšå…¶å¯¦æœƒæœ‰äº›è³‡å®‰é¢¨éšª</p>
<p>å¾ä¸Šé¢çš„æµç¨‹ï¼Œæˆ‘å€‘å¯ä»¥çœ‹å‡ºä¾†<code>åå‘</code>é€™ä»¶äº‹æ˜¯å¾å…§éƒ¨æ©Ÿå™¨ä¸»å‹•é€£åˆ°å¤–ç¶²æ©Ÿå™¨</p>
<p>ä¹Ÿå°±æ˜¯å¦‚æœæœ‰å¿ƒäººå£«æ‹¿åˆ°å…§éƒ¨æ©Ÿå™¨çš„å­˜å–æ¬Šé™çš„è©±ï¼Œå¤–éƒ¨æ©Ÿå™¨è‡ªç„¶ä¸ä¿äº†</p>
<p>é€™é‚Šèƒ½åšçš„ä¹Ÿåªæœ‰ä¿ç®¡å¥½é‡‘é‘°äº†</p>
<blockquote>
<p>2024-08-13 æ›´æ–°</p>
</blockquote>
<p>é›–èªªå…§ç¶²å¯ä»¥åå‘é€£åˆ°å¤–ç¶²æ©Ÿå™¨å¾ˆå±éšªï¼Œä½†æˆ‘å€‘åªè¦åœ¨å¤–ç¶²æ©Ÿå™¨SSHçš„è¨­å®šæª”åšä¸€äº›é™åˆ¶å°±å¯ä»¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">Match User telepy</span><br><span class="line">AllowTcpForwarding yes</span><br><span class="line">PermitTunnel yes</span><br><span class="line">ForceCommand echo &#x27;This account can only be used for reverse SSH tunneling&#x27;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘åœ¨<code>sshd_config</code>ä¸­åŠ å…¥é€™æ®µè¨­å®šï¼Œå°±å¯ä»¥é™åˆ¶åªæœ‰<code>telepy</code>é€™å€‹ä½¿ç”¨è€…<br>ç„¶å¾Œï¼Œæˆ‘å€‘çš„å¤–ç¶²æ©Ÿå™¨åªæœ‰é€™å€‹ä½¿ç”¨è€…ä¸”é€™å€‹ä½¿ç”¨è€…åªèƒ½é€²è¡Œtunnelingï¼Œå…¶ä»–çš„æ“ä½œéƒ½æœƒè¢«æ‹’çµ•<br>é€™æ¨£å°±å¯ä»¥é¿å…å…§ç¶²æ©Ÿå™¨æ‹¿åˆ°å¤–ç¶²æ©Ÿå™¨çš„å‘½ä»¤åŸ·è¡Œæ¬Šé™</p>
<p>é€™é‚Šå¯ä»¥åƒè€ƒå¾Œä¾†æˆ‘åšçš„ä¸€å€‹æ–°å°ˆæ¡ˆ<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL05hdExlZS90ZWxlcHk=">Telepy<i class="fa fa-external-link-alt"></i></span><br>é€™å€‹å°ˆæ¡ˆæä¾›SSHé€šé“åœ¨Web UIä¸Šçš„ç®¡ç†ç•Œé¢ä»¥åŠåŸºæœ¬çš„ä½¿ç”¨è€…ç®¡ç†<br>ç”šè‡³é‚„æœ‰Web Terminalçš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥åœ¨ç€è¦½å™¨ä¸Šæ“ä½œé ç«¯æ©Ÿå™¨</p>
<p>æœ‰èˆˆè¶£çš„è©±å¯ä»¥å»çœ‹çœ‹ï¼ğŸ˜</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><hr>
<p><span class="exturl" data-url="aHR0cDovL2Fyb25kaWdodC5tZS8yMDE2LzAyLzE3LyVFNCVCRCVCRiVFNyU5NCVBOFNTSCVFNSU4RiU4RCVFNSU5MCU5MSVFOSU5QSVBNyVFOSU4MSU5MyVFOCVCRiU5QiVFOCVBMSU4QyVFNSU4NiU4NSVFNyVCRCU5MSVFNyVBOSVCRiVFOSU4MCU4Ri8=">ä½¿ç”¨ SSH åå‘éš§é“è¿›è¡Œå†…ç½‘ç©¿é€<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZXZlcnl0aGluZ2NsaS5vcmcvc3NoLXR1bm5lbGxpbmctZm9yLWZ1bi1hbmQtcHJvZml0LWF1dG9zc2gv">SSH TUNNELLING FOR FUN AND PROFIT: AUTOSSH<i class="fa fa-external-link-alt"></i></span></p>
<hr>
<p>é€™ç¯‡æ–‡ç« åŒæ­¥ç™¼è¡¨æ–¼ Medium ï¼Œæ­¡è¿ç•™è¨€è¨è«–ï¼</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BuYXRsZWVfLyVFNCVCRCVCRiVFNyU5NCVBOGRvY2tlci1jb250YWluZXIlRTUlQkIlQkElRTclQUIlOEJzc2glRTUlOEYlOEQlRTUlOTAlOTElRTklODAlOUElRTklODElOTMlRTclQTklQkYlRTklODAlOEYlRTUlODUlQTclRTclQjYlQjIlRTklODAlQTMlRTYlOEUlQTUlRTUlODUlQTclRTklODMlQTglRTglQTMlOUQlRTclQkQlQUUtNzE2ZjBjMDQ5MjIz">Medium æ–‡ç« é€£çµ<i class="fa fa-external-link-alt"></i></span></p>

    </div>

    
    
    

    <footer class="post-footer">
    <!-- related posts -->
        <div class="popular-posts-header">ç›¸é—œæ–‡ç« æ¨è–¦</div>
        <ul class="popular-posts">
                <li class="popular-posts-item">
                        <div class="popular-posts-title">
                            <a href="/Blog/posts/440569875/" rel="bookmark">ä½¿ç”¨Containerä¾†å¿«é€Ÿå»ºç«‹é–‹ç™¼ç’°å¢ƒ(ä»¥pythonç‚ºä¾‹)</a>
                        </div>
                    </li>
                <li class="popular-posts-item">
                        <div class="popular-posts-title">
                            <a href="/Blog/posts/c7016718/" rel="bookmark">ä½¿ç”¨Dockerå¿«é€Ÿå»ºç«‹GUIåœ–å½¢åŒ–çš„æ·±åº¦å­¸ç¿’é–‹ç™¼ç’°å¢ƒ</a>
                        </div>
                    </li>
                <li class="popular-posts-item">
                        <div class="popular-posts-title">
                            <a href="/Blog/posts/b87de6f1/" rel="bookmark">Synology NAS Dockeræ›´æ–°èˆ‡é ç«¯æ§åˆ¶</a>
                        </div>
                    </li>
                <li class="popular-posts-item">
                        <div class="popular-posts-title">
                            <a href="/Blog/posts/41a1fec1/" rel="bookmark">ä»¥Djangoå»ºç«‹Docker GUIæ§åˆ¶ç•Œé¢</a>
                        </div>
                    </li>
                <li class="popular-posts-item">
                        <div class="popular-posts-title">
                            <a href="/Blog/posts/c83a1208/" rel="bookmark">ä»¥Djangoçˆ²å¾Œç«¯é–‹ç™¼é›†æˆå¼ç®¡ç†çš„Dockeré–‹ç™¼ç’°å¢ƒ</a>
                        </div>
                    </li>
            </ul>

    
        <!-- like coin -->
        <div>
            <iframe width="100%" height="230px" scrolling="no" frameborder="0" id="player" src="https://button.like.co/in/embed/natlee_/button/?referrer=<%- post.permalink %>" allowfullscreen="true"></iframe>
        </div>
        <!-- binance QR code -->
        <div>
            <hr>
                <img src="https://i.imgur.com/VD6XVlC.png" alt="Binance QR code"></img>
                <div class="post-meta">
                    <i class="fa fa-heart"></i>TUtgWsPsEFNuuHYA7hNVjvQWbp3W6xRUbz<i class="fa fa-heart"></i>
                </div>

                <hr></div>
            

            

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Nat Lee
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://natlee.github.com/Blog/posts/509187850/" title="ä½¿ç”¨docker containerå»ºç«‹SSHåå‘é€šé“ç©¿é€å…§ç¶²é€£æ¥å…§éƒ¨è£ç½®">https://natlee.github.com/Blog/posts/509187850/</a>
  </li>
  <li class="post-copyright-license">
      <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/Blog/tags/docker/" rel="tag"># docker</a>
              <a href="/Blog/tags/container/" rel="tag"># container</a>
              <a href="/Blog/tags/ssh/" rel="tag"># ssh</a>
              <a href="/Blog/tags/tunnel/" rel="tag"># tunnel</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/Blog/posts/833732900/" rel="prev" title="PKCS#1ä¸­RSAçš„åŠ è§£å¯†å¡«å……åœ–è§£ï¼ˆv1_5è·ŸOAEPï¼‰">
                  <i class="fa fa-angle-left"></i> PKCS#1ä¸­RSAçš„åŠ è§£å¯†å¡«å……åœ–è§£ï¼ˆv1_5è·ŸOAEPï¼‰
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/Blog/posts/823759430/" rel="next" title="å¤šç‰ˆæœ¬CUDAåŠcuDNNç®¡ç†">
                  å¤šç‰ˆæœ¬CUDAåŠcuDNNç®¡ç† <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2015 â€“ 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Nat Lee</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">161k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">4:54</span>
  </span>
</div>
  <div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL05hdExlZQ==" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/Blog/js/comments.js"></script><script src="/Blog/js/utils.js"></script><script src="/Blog/js/motion.js"></script><script src="/Blog/js/sidebar.js"></script><script src="/Blog/js/next-boot.js"></script><script src="/Blog/js/pjax.js"></script>

  






  




  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.3.0/dist/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://natlee.github.com/Blog/posts/509187850/"}</script>
  <script src="/Blog/js/third-party/quicklink.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"natlee","repo":"Blog","client_id":"afee937b22f0617227f6","client_secret":"8e699a19a6f56f46c11c4c38619b75667267cdba","admin_user":"natlee","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":["zh-TW","en"],"js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"f46b6dfd853785be5cb43079a277c5d5"}</script>
<script src="/Blog/js/third-party/comments/gitalk.js"></script>

</body>
</html>
